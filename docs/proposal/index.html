<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- metadata -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- tab title -->
    <title>Proposal | Voxel Falling Sand</title>

    <!-- load icon -->
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon" />

    <!-- load fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />

    <!-- load website styles -->
    <link rel="stylesheet" href="../global.css" />
    <link rel="stylesheet" href="../article.css" />
  </head>
  <body>
    <main>
      <article>
        <header>
          <h1>Voxel Falling Sand</h1>
          <p class="gray">
            Team: Ann Basil, Ben Bliss, David Hernandez, Jinkang Fang
          </p>
          <div class="summary">
            <b>Summary</b><br />
            A real-time, high definition voxel falling sand game with several
            different materials (such as sand, water, etc). Simulates
            interactions between different material properties and offers an
            interesting sandbox playground.
          </div>
          <p>
            Webpage:
            <a
              href="https://jinkang-0.github.io/sand-that-falls-real-good/proposal/"
              >jinkang-0.github.io/sand-that-falls-real-good/proposal/</a
            >
          </p>
        </header>
        <section>
          <h2>Problem Description</h2>
          <p>
            We were inspired by falling sand games like sandboxels that
            simulated chemical reactions using pixels and cellular automation.
            However, games like sandboxels are largely 2D.
          </p>
          <p>
            We want to build on traditional falling sand games and improve its
            realism by extending it into 3D. We also aim to optimize the
            simulation as much as possible, allowing potentially thousands of
            small voxel particles to interact with each other in real time.
          </p>
          <p>
            To go a step further, we plan to implement shaders that reflect
            differently for different materials (i.e. coarse and bumpy material
            for sand, but reflective and translucent material for water).
          </p>
          <p>
            We believe this problem is important because it can be a great
            improvement in realism for voxel-based sandbox games if
            optimizations are done correctly. It can also be a great educational
            tool to demonstrate the interaction of elements like sand and water
            in a 3D environment.
          </p>
          <p>
            The difficulty of this problem lies in the challenge of
            optimization. Because voxel simulations involve updating a large
            cubic grid, the cost of computation scale in cubic orders for each
            frame, resulting in heavy computation costs. We have to consider the
            application of acceleration schemes in order to simulate high
            definition voxel falling sand simulations operating at smooth
            framerates (at least 30fps).
          </p>
          <p>
            One approach we are considering is to iterate only on the indices
            representing voxels that will move, eliminating the need to iterate
            over the entire grid. Another consideration is to split the world
            into uniform chunks, then iterating on the chunks that will move
            instead of each voxel. We will try both approaches and see which one
            performs better.
          </p>
          <p>
            We are also considering the use of compute shaders to help us
            parallelize the simulation on the GPU, which will further reduce the
            simulation time.
          </p>
          <p>
            For rendering, we plan to use ray marching to render only the
            visible parts of each voxel. We also have plans to adjust the
            reflectance and refraction of light in the ray marching rendering to
            give a more visibly convincing representation of different material.
          </p>
        </section>
        <section>
          <h2>Goals and Deliverables</h2>
          <p>
            For our final deliverable, we want to create and deliver a
            performant, real-time demo of sand-like particles in a voxel
            environment, complete with kinematics, material reactions, and user
            interactions.
          </p>
          <p>
            To measure the quality of our demo, we will track the simulation
            time, mesh generation time, and the average FPS of the demo, as we
            implement each successive optimization. Ideally, we want the
            simulation and render times to be low, which would also increase the
            average FPS.
          </p>
          <p>
            We plan to answer if it's possible to have implement a falling sand
            simulator without massive time or space implications, which likely
            will show up in the quality of our demo in terms of simulation and
            render times, along with FPS.
          </p>
          <p>
            Considering we only have a limited amount of time to work on this,
            we want to prioritize having a working demo first. Then work on
            optimizations for a higher number of voxels, followed by the falling
            sand simulation. After that, we can work on different material
            properties.
          </p>
          <p>
            The above should all be achievable within the given timeframe. If we
            are able to deliver ahead of schedule, we will tackle the use of ray
            marching for distinct material shading, particle kinematics (i.e.
            varying velocity), and edge smoothing.
          </p>
        </section>
        <section>
          <h2>Schedule</h2>
          <table>
            <thead>
              <tr>
                <td>Time</td>
                <td>Items</td>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <b>Week 0</b>
                  <p>(Spring Break)</p>
                </td>
                <td>Project brainstorm and repo setup</td>
              </tr>
              <tr>
                <td>
                  <b>Week 1</b>
                  <p>(Mar. 31 - Apr. 4)</p>
                </td>
                <td>Proposal website, research, project setup</td>
              </tr>
              <tr>
                <td>
                  <b>Week 2</b>
                  <p>(Apr. 7 - Apr. 11)</p>
                </td>
                <td>Optimizing simulation, voxel spawning, UI</td>
              </tr>
              <tr>
                <td>
                  <b>Week 3</b>
                  <p>(Apr. 14 - Apr. 18)</p>
                </td>
                <td>Optimizing rendering, voxel deleting, UI</td>
              </tr>
              <tr>
                <td>
                  <b>Week 4</b>
                  <p>(Apr. 14 - Apr. 18)</p>
                </td>
                <td>Falling sand automaton logic, material properties</td>
              </tr>
              <tr>
                <td>
                  <b>Week 5</b>
                  <p>(Apr. 21 - Apr. 25)</p>
                </td>
                <td>Material properties, optimization with compute shaders</td>
              </tr>
              <tr>
                <td>
                  <b>Week 6</b>
                  <p>(Apr. 28 - May 2)</p>
                </td>
                <td>
                  Ray marching for smooth voxels and material shading; skybox
                </td>
              </tr>
              <tr>
                <td>
                  <b>Final Days</b>
                  <p>(May 2 - May 5)</p>
                </td>
                <td>Debugging, tie up loose ends</td>
              </tr>
            </tbody>
          </table>
        </section>
        <section>
          <h2>Resources</h2>
          <p>
            For our project, we will be using Rust and OpenGL. We aim to support
            Linux, MacOS, and Windows, because our team collective cover all
            three operating systems.
          </p>
          <b>Inspiration resources</b>
          <ul>
            <li>
              <a href="https://sandboxels.r74n.com/" target="_blank"
                >Sandboxels</a
              >
              - initial falling sand inspiration
            </li>
            <li>
              <a
                href="https://github.com/ria8651/bevy-voxel-engine"
                target="_blank"
                >Bevy Voxel Engine</a
              >
              - made us believe it is achievable
            </li>
          </ul>
          <br />
          <b>Helpful resources</b>
          <ul>
            <li>
              <a href="https://www.glfw.org/download" target="_blank">GLFW</a> -
              tooling to create window GUI for OpenGL projects
            </li>
            <li>
              <a
                href="https://youtu.be/40JzyaOYJeY?si=YzUzOVI1blxK5WkF"
                target="_blank"
                >YouTube: I Optimised My Game Engine Up To 12000 FPS</a
              >
              - provided insight into voxel game optimizations
            </li>
            <li>
              <a
                href="https://youtu.be/VLZjd_Y1gJ8?si=NzNRIWX35CkvKLqx"
                target="_blank"
                >YouTube: Recreating Noita's Sand Simulation in C and OpenGL</a
              >
              - useful ideas that can be extended to 3D
            </li>
            <li>
              <a
                href="https://youtu.be/8Tf18MMZ-5U?si=wRniZopVbA6TA2_F"
                target="_blank"
                >YouTube: I Made Falling Sand Games in a Fragment Shader</a
              >
              - useful reference for optimizing using the GPU
            </li>
            <li>
              <a
                href="https://youtu.be/vNcsPE_YdmA?si=Ma7Iggn5Si0KCl9f"
                target="_blank"
                >YouTube: Making an infinite world with Falling Sand part 2</a
              >
              - inspiration to optimize by splitting the world in chunks
            </li>
          </ul>
        </section>
      </article>
    </main>
  </body>
</html>
